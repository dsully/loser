(function(f){function d(ay,ai,K,af){var R=[],P={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{mode:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null},yaxis:{autoscaleMargin:0.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:0.02},series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,color:"#545454",backgroundColor:null,tickColor:"#dddddd",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},selection:{mode:null,color:"#e8cfac"}},aD=null,ac=null,z=null,I=null,B=null,ad={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},r={left:0,right:0,top:0,bottom:0},H=0,J=0,o=0,w=0,an={processOptions:[],processRawData:[],processDatapoints:[],draw:[],bindEvents:[],drawOverlay:[]},aw=this,F={};aw.setData=aj;aw.setupGrid=t;aw.draw=U;aw.clearSelection=at;aw.setSelection=ag;aw.getSelection=al;aw.getPlaceholder=function(){return ay};aw.getCanvas=function(){return aD};aw.getPlotOffset=function(){return r};aw.width=function(){return o};aw.height=function(){return w};aw.offset=function(){var aE=z.offset();aE.left+=r.left;aE.top+=r.top;return aE};aw.getData=function(){return R};aw.getAxes=function(){return ad};aw.getOptions=function(){return P};aw.highlight=x;aw.unhighlight=T;aw.triggerRedrawOverlay=n;aw.pointOffset=function(aE){return{left:parseInt(az(aE,"xaxis").p2c(+aE.x)+r.left),top:parseInt(az(aE,"yaxis").p2c(+aE.y)+r.top)}};aw.hooks=an;G(aw);X(K);C();aj(ai);t();U();ah();function ar(aG,aE){aE=[aw].concat(aE);for(var aF=0;aF<aG.length;++aF){aG[aF].apply(this,aE)}}function G(){for(var aE=0;aE<af.length;++aE){var aF=af[aE];aF.init(aw);if(aF.options){f.extend(true,P,aF.options)}}}function X(aE){f.extend(true,P,aE);if(P.grid.borderColor==null){P.grid.borderColor=P.grid.color}if(P.xaxis.noTicks&&P.xaxis.ticks==null){P.xaxis.ticks=P.xaxis.noTicks}if(P.yaxis.noTicks&&P.yaxis.ticks==null){P.yaxis.ticks=P.yaxis.noTicks}if(P.grid.coloredAreas){P.grid.markings=P.grid.coloredAreas}if(P.grid.coloredAreasColor){P.grid.markingsColor=P.grid.coloredAreasColor}if(P.lines){f.extend(true,P.series.lines,P.lines)}if(P.points){f.extend(true,P.series.points,P.points)}if(P.bars){f.extend(true,P.series.bars,P.bars)}if(P.shadowSize){P.series.shadowSize=P.shadowSize}ar(an.processOptions,[P])}function aj(aE){R=V(aE);aA();A()}function V(aH){var aF=[];for(var aE=0;aE<aH.length;++aE){var aG=f.extend(true,{},P.series);if(aH[aE].data){aG.data=aH[aE].data;delete aH[aE].data;f.extend(true,aG,aH[aE]);aH[aE].data=aG.data}else{aG.data=aH[aE]}aF.push(aG)}return aF}function az(aG,aE){var aF=aG[aE];if(!aF||aF==1){return ad[aE]}if(typeof aF=="number"){return ad[aE.charAt(0)+aF+aE.slice(1)]}return aF}function aA(){var aJ;var aQ=R.length,aE=[],aH=[];for(aJ=0;aJ<R.length;++aJ){var aN=R[aJ].color;if(aN!=null){--aQ;if(typeof aN=="number"){aH.push(aN)}else{aE.push(e(R[aJ].color))}}}for(aJ=0;aJ<aH.length;++aJ){aQ=Math.max(aQ,aH[aJ]+1)}var aF=[],aI=0;aJ=0;while(aF.length<aQ){var aM;if(P.colors.length==aJ){aM=new g(100,100,100)}else{aM=e(P.colors[aJ])}var aG=aI%2==1?-1:1;var aL=1+aG*Math.ceil(aI/2)*0.2;aM.scale(aL,aL,aL);aF.push(aM);++aJ;if(aJ>=P.colors.length){aJ=0;++aI}}var aK=0,aR;for(aJ=0;aJ<R.length;++aJ){aR=R[aJ];if(aR.color==null){aR.color=aF[aK].toString();++aK}else{if(typeof aR.color=="number"){aR.color=aF[aR.color].toString()}}if(aR.lines.show==null){var aP,aO=true;for(var aP in aR){if(aR[aP].show){aO=false;break}}if(aO){aR.lines.show=true}}aR.xaxis=az(aR,"xaxis");aR.yaxis=az(aR,"yaxis")}}function A(){var aQ=Number.POSITIVE_INFINITY,aK=Number.NEGATIVE_INFINITY,aW,aU,aT,aP,aF,aL,aV,aR,aJ,aI,aE,a2,aZ,aN;for(aE in ad){ad[aE].datamin=aQ;ad[aE].datamax=aK;ad[aE].min=P[aE].min;ad[aE].max=P[aE].max;ad[aE].used=false}function aH(a5,a4,a3){if(a4<a5.datamin){a5.datamin=a4}if(a3>a5.datamax){a5.datamax=a3}}for(aW=0;aW<R.length;++aW){aL=R[aW];aL.datapoints={points:[]};ar(an.processRawData,[aL,aL.data,aL.datapoints])}for(aW=0;aW<R.length;++aW){aL=R[aW];var a1=aL.data,aY=aL.datapoints.format;if(!aY){aY=[];aY.push({x:true,number:true,required:true});aY.push({y:true,number:true,required:true});if(aL.bars.show){aY.push({y:true,number:true,required:false,defaultValue:0})}aL.datapoints.format=aY}if(aL.datapoints.pointsize!=null){continue}if(aL.datapoints.pointsize==null){aL.datapoints.pointsize=aY.length}aR=aL.datapoints.pointsize;aV=aL.datapoints.points;insertSteps=aL.lines.show&&aL.lines.steps;aL.xaxis.used=aL.yaxis.used=true;for(aU=aT=0;aU<a1.length;++aU,aT+=aR){aN=a1[aU];var aG=aN==null;if(!aG){for(aP=0;aP<aR;++aP){a2=aN[aP];aZ=aY[aP];if(aZ){if(aZ.number&&a2!=null){a2=+a2;if(isNaN(a2)){a2=null}}if(a2==null){if(aZ.required){if(aZ.x){aH(aL.xaxis,a2,a2)}if(aZ.y){aH(aL.yaxis,a2,a2)}a2=null;aG=true}if(aZ.defaultValue!=null){a2=aZ.defaultValue}}}aV[aT+aP]=a2}}if(aG){for(aP=0;aP<aR;++aP){aV[aT+aP]=null}}else{if(insertSteps&&aT>0&&aV[aT-aR]!=null&&aV[aT-aR]!=aV[aT]&&aV[aT-aR+1]!=aV[aT+1]){for(aP=0;aP<aR;++aP){aV[aT+aR+aP]=aV[aT+aP]}aV[aT+1]=aV[aT-aR+1];aT+=aR}}}}for(aW=0;aW<R.length;++aW){aL=R[aW];ar(an.processDatapoints,[aL,aL.datapoints])}for(aW=0;aW<R.length;++aW){aL=R[aW];aV=aL.datapoints.points,aR=aL.datapoints.pointsize;var aM=aQ,aS=aQ,aO=aK,aX=aK;for(aU=0;aU<aV.length;aU+=aR){if(aV[aU]==null){continue}for(aP=0;aP<aR;++aP){a2=aV[aU+aP];aZ=aY[aP];if(!aZ){continue}if(aZ.x){if(a2<aM){aM=a2}if(a2>aO){aO=a2}}if(aZ.y){if(a2<aS){aS=a2}if(a2>aX){aX=a2}}}}if(aL.bars.show){var a0=aL.bars.align=="left"?0:-aL.bars.barWidth/2;if(aL.bars.horizontal){aS+=a0;aX+=a0+aL.bars.barWidth}else{aM+=a0;aO+=a0+aL.bars.barWidth}}aH(aL.xaxis,aM,aO);aH(aL.yaxis,aS,aX)}for(aE in ad){if(ad[aE].datamin==aQ){ad[aE].datamin=null}if(ad[aE].datamax==aK){ad[aE].datamax=null}}}function C(){function aE(aG,aF){var aH=document.createElement("canvas");aH.width=aG;aH.height=aF;if(f.browser.msie){aH=window.G_vmlCanvasManager.initElement(aH)}return aH}H=ay.width();J=ay.height();ay.html("");if(ay.css("position")=="static"){ay.css("position","relative")}if(H<=0||J<=0){throw"Invalid dimensions for plot, width = "+H+", height = "+J}if(f.browser.msie){window.G_vmlCanvasManager.init_(document)}aD=f(aE(H,J)).appendTo(ay).get(0);I=aD.getContext("2d");ac=f(aE(H,J)).css({position:"absolute",left:0,top:0}).appendTo(ay).get(0);B=ac.getContext("2d");B.stroke()}function ah(){z=f([ac,aD]);if(P.selection.mode!=null||P.grid.hoverable){z.mousemove(Y)}if(P.selection.mode!=null){z.mousedown(y)}if(P.grid.clickable){z.click(S)}ar(an.bindEvents,[z])}function t(){function aF(aK){var aJ,aI;if(aK==ad.xaxis||aK==ad.x2axis){aJ=aK.scale=o/(aK.max-aK.min);aI=aK.min;aK.p2c=function(aL){return(aL-aI)*aJ};aK.c2p=function(aL){return aI+aL/aJ}}else{aJ=aK.scale=w/(aK.max-aK.min);aI=aK.max;aK.p2c=function(aL){return(aI-aL)*aJ};aK.c2p=function(aL){return aI-aL/aJ}}}function aH(aL,aN){var aK,aM=[],aJ;aL.labelWidth=aN.labelWidth;aL.labelHeight=aN.labelHeight;if(aL==ad.xaxis||aL==ad.x2axis){if(aL.labelWidth==null){aL.labelWidth=H/6}if(aL.labelHeight==null){aM=[];for(aK=0;aK<aL.ticks.length;++aK){aJ=aL.ticks[aK].label;if(aJ){aM.push('<div class="tickLabel" style="float:left;width:'+aL.labelWidth+'px">'+aJ+"</div>")}}if(aM.length>0){var aI=f('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+aM.join("")+'<div style="clear:left"></div></div>').appendTo(ay);aL.labelHeight=aI.height();aI.remove()}}}else{if(aL.labelWidth==null||aL.labelHeight==null){for(aK=0;aK<aL.ticks.length;++aK){aJ=aL.ticks[aK].label;if(aJ){aM.push('<div class="tickLabel">'+aJ+"</div>")}}if(aM.length>0){var aI=f('<div style="position:absolute;top:-10000px;font-size:smaller">'+aM.join("")+"</div>").appendTo(ay);if(aL.labelWidth==null){aL.labelWidth=aI.width()}if(aL.labelHeight==null){aL.labelHeight=aI.find("div").height()}aI.remove()}}}if(aL.labelWidth==null){aL.labelWidth=0}if(aL.labelHeight==null){aL.labelHeight=0}}function aG(){var aJ=P.grid.borderWidth;for(i=0;i<R.length;++i){aJ=Math.max(aJ,2*(R[i].points.radius+R[i].points.lineWidth/2))}r.left=r.right=r.top=r.bottom=aJ;var aI=P.grid.labelMargin+P.grid.borderWidth;if(ad.xaxis.labelHeight>0){r.bottom=Math.max(aJ,ad.xaxis.labelHeight+aI)}if(ad.yaxis.labelWidth>0){r.left=Math.max(aJ,ad.yaxis.labelWidth+aI)}if(ad.x2axis.labelHeight>0){r.top=Math.max(aJ,ad.x2axis.labelHeight+aI)}if(ad.y2axis.labelWidth>0){r.right=Math.max(aJ,ad.y2axis.labelWidth+aI)}o=H-r.left-r.right;w=J-r.bottom-r.top}var aE;for(aE in ad){p(ad[aE],P[aE])}if(P.grid.show){for(aE in ad){ao(ad[aE],P[aE]);Q(ad[aE],P[aE]);aH(ad[aE],P[aE])}aG()}else{r.left=r.right=r.top=r.bottom=0;o=H;w=J}for(aE in ad){aF(ad[aE])}if(P.grid.show){l()}q()}function p(aH,aJ){var aG=+(aJ.min!=null?aJ.min:aH.datamin),aE=+(aJ.max!=null?aJ.max:aH.datamax);if(aE-aG==0){var aF=aE==0?1:0.01;if(aJ.min==null){aG-=aF}if(aJ.max==null||aJ.min!=null){aE+=aF}}else{var aI=aJ.autoscaleMargin;if(aI!=null){if(aJ.min==null){aG-=(aE-aG)*aI;if(aG<0&&aH.datamin!=null&&aH.datamin>=0){aG=0}}if(aJ.max==null){aE+=(aE-aG)*aI;if(aE>0&&aH.datamax!=null&&aH.datamax<=0){aE=0}}}}aH.min=aG;aH.max=aE}function ao(aJ,aM){var aI;if(typeof aM.ticks=="number"&&aM.ticks>0){aI=aM.ticks}else{if(aJ==ad.xaxis||aJ==ad.x2axis){aI=0.3*Math.sqrt(H)}else{aI=0.3*Math.sqrt(J)}}var aR=(aJ.max-aJ.min)/aI,aT,aN,aP,aQ,aL,aG,aF;if(aM.mode=="time"){var aO={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aS=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aH=0;if(aM.minTickSize!=null){if(typeof aM.tickSize=="number"){aH=aM.tickSize}else{aH=aM.minTickSize[0]*aO[aM.minTickSize[1]]}}for(aL=0;aL<aS.length-1;++aL){if(aR<(aS[aL][0]*aO[aS[aL][1]]+aS[aL+1][0]*aO[aS[aL+1][1]])/2&&aS[aL][0]*aO[aS[aL][1]]>=aH){break}}aT=aS[aL][0];aP=aS[aL][1];if(aP=="year"){aG=Math.pow(10,Math.floor(Math.log(aR/aO.year)/Math.LN10));aF=(aR/aO.year)/aG;if(aF<1.5){aT=1}else{if(aF<3){aT=2}else{if(aF<7.5){aT=5}else{aT=10}}}aT*=aG}if(aM.tickSize){aT=aM.tickSize[0];aP=aM.tickSize[1]}aN=function(aW){var a1=[],aZ=aW.tickSize[0],a2=aW.tickSize[1],a0=new Date(aW.min);var aV=aZ*aO[a2];if(a2=="second"){a0.setUTCSeconds(c(a0.getUTCSeconds(),aZ))}if(a2=="minute"){a0.setUTCMinutes(c(a0.getUTCMinutes(),aZ))}if(a2=="hour"){a0.setUTCHours(c(a0.getUTCHours(),aZ))}if(a2=="month"){a0.setUTCMonth(c(a0.getUTCMonth(),aZ))}if(a2=="year"){a0.setUTCFullYear(c(a0.getUTCFullYear(),aZ))}a0.setUTCMilliseconds(0);if(aV>=aO.minute){a0.setUTCSeconds(0)}if(aV>=aO.hour){a0.setUTCMinutes(0)}if(aV>=aO.day){a0.setUTCHours(0)}if(aV>=aO.day*4){a0.setUTCDate(1)}if(aV>=aO.year){a0.setUTCMonth(0)}var a4=0,a3=Number.NaN,aX;do{aX=a3;a3=a0.getTime();a1.push({v:a3,label:aW.tickFormatter(a3,aW)});if(a2=="month"){if(aZ<1){a0.setUTCDate(1);var aU=a0.getTime();a0.setUTCMonth(a0.getUTCMonth()+1);var aY=a0.getTime();a0.setTime(a3+a4*aO.hour+(aY-aU)*aZ);a4=a0.getUTCHours();a0.setUTCHours(0)}else{a0.setUTCMonth(a0.getUTCMonth()+aZ)}}else{if(a2=="year"){a0.setUTCFullYear(a0.getUTCFullYear()+aZ)}else{a0.setTime(a3+aV)}}}while(a3<aW.max&&a3!=aX);return a1};aQ=function(aU,aX){var aY=new Date(aU);if(aM.timeformat!=null){return f.plot.formatDate(aY,aM.timeformat,aM.monthNames)}var aV=aX.tickSize[0]*aO[aX.tickSize[1]];var aW=aX.max-aX.min;if(aV<aO.minute){fmt="%h:%M:%S"}else{if(aV<aO.day){if(aW<2*aO.day){fmt="%h:%M"}else{fmt="%b %d %h:%M"}}else{if(aV<aO.month){fmt="%b %d"}else{if(aV<aO.year){if(aW<aO.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return f.plot.formatDate(aY,fmt,aM.monthNames)}}else{var aE=aM.tickDecimals;var aK=-Math.floor(Math.log(aR)/Math.LN10);if(aE!=null&&aK>aE){aK=aE}aG=Math.pow(10,-aK);aF=aR/aG;if(aF<1.5){aT=1}else{if(aF<3){aT=2;if(aF>2.25&&(aE==null||aK+1<=aE)){aT=2.5;++aK}}else{if(aF<7.5){aT=5}else{aT=10}}}aT*=aG;if(aM.minTickSize!=null&&aT<aM.minTickSize){aT=aM.minTickSize}if(aM.tickSize!=null){aT=aM.tickSize}aJ.tickDecimals=Math.max(0,(aE!=null)?aE:aK);aN=function(aW){var aY=[];var aZ=c(aW.min,aW.tickSize),aV=0,aU=Number.NaN,aX;do{aX=aU;aU=aZ+aV*aW.tickSize;aY.push({v:aU,label:aW.tickFormatter(aU,aW)});++aV}while(aU<aW.max&&aU!=aX);return aY};aQ=function(aU,aV){return aU.toFixed(aV.tickDecimals)}}aJ.tickSize=aP?[aT,aP]:aT;aJ.tickGenerator=aN;if(f.isFunction(aM.tickFormatter)){aJ.tickFormatter=function(aU,aV){return""+aM.tickFormatter(aU,aV)}}else{aJ.tickFormatter=aQ}}function Q(aI,aK){aI.ticks=[];if(!aI.used){return}if(aK.ticks==null){aI.ticks=aI.tickGenerator(aI)}else{if(typeof aK.ticks=="number"){if(aK.ticks>0){aI.ticks=aI.tickGenerator(aI)}}else{if(aK.ticks){var aJ=aK.ticks;if(f.isFunction(aJ)){aJ=aJ({min:aI.min,max:aI.max})}var aH,aE;for(aH=0;aH<aJ.length;++aH){var aF=null;var aG=aJ[aH];if(typeof aG=="object"){aE=aG[0];if(aG.length>1){aF=aG[1]}}else{aE=aG}if(aF==null){aF=aI.tickFormatter(aE,aI)}aI.ticks[aH]={v:aE,label:aF}}}}}if(aK.autoscaleMargin!=null&&aI.ticks.length>0){if(aK.min==null){aI.min=Math.min(aI.min,aI.ticks[0].v)}if(aK.max==null&&aI.ticks.length>1){aI.max=Math.min(aI.max,aI.ticks[aI.ticks.length-1].v)}}}function U(){if(P.grid.show){ab()}for(var aE=0;aE<R.length;++aE){j(R[aE])}ar(an.draw,[I])}function D(aF,aL){var aI=aL+"axis",aE=aL+"2axis",aH,aK,aJ,aG;if(aF[aI]){aH=ad[aI];aK=aF[aI].from;aJ=aF[aI].to}else{if(aF[aE]){aH=ad[aE];aK=aF[aE].from;aJ=aF[aE].to}else{aH=ad[aI];aK=aF[aL+"1"];aJ=aF[aL+"2"]}}if(aK!=null&&aJ!=null&&aK>aJ){return{from:aJ,to:aK,axis:aH}}return{from:aK,to:aJ,axis:aH}}function ab(){var aI;I.save();I.clearRect(0,0,H,J);I.translate(r.left,r.top);if(P.grid.backgroundColor){I.fillStyle=aq(P.grid.backgroundColor,w,0,"rgba(255, 255, 255, 0)");I.fillRect(0,0,o,w)}var aF=P.grid.markings;if(aF){if(f.isFunction(aF)){aF=aF({xmin:ad.xaxis.min,xmax:ad.xaxis.max,ymin:ad.yaxis.min,ymax:ad.yaxis.max,xaxis:ad.xaxis,yaxis:ad.yaxis,x2axis:ad.x2axis,y2axis:ad.y2axis})}for(aI=0;aI<aF.length;++aI){var aE=aF[aI],aK=D(aE,"x"),aH=D(aE,"y");if(aK.from==null){aK.from=aK.axis.min}if(aK.to==null){aK.to=aK.axis.max}if(aH.from==null){aH.from=aH.axis.min}if(aH.to==null){aH.to=aH.axis.max}if(aK.to<aK.axis.min||aK.from>aK.axis.max||aH.to<aH.axis.min||aH.from>aH.axis.max){continue}aK.from=Math.max(aK.from,aK.axis.min);aK.to=Math.min(aK.to,aK.axis.max);aH.from=Math.max(aH.from,aH.axis.min);aH.to=Math.min(aH.to,aH.axis.max);if(aK.from==aK.to&&aH.from==aH.to){continue}aK.from=aK.axis.p2c(aK.from);aK.to=aK.axis.p2c(aK.to);aH.from=aH.axis.p2c(aH.from);aH.to=aH.axis.p2c(aH.to);if(aK.from==aK.to||aH.from==aH.to){I.strokeStyle=aE.color||P.grid.markingsColor;I.beginPath();I.lineWidth=aE.lineWidth||P.grid.markingsLineWidth;I.moveTo(aK.from,aH.from);I.lineTo(aK.to,aH.to);I.stroke()}else{I.fillStyle=aE.color||P.grid.markingsColor;I.fillRect(aK.from,aH.to,aK.to-aK.from,aH.from-aH.to)}}}I.lineWidth=1;I.strokeStyle=P.grid.tickColor;I.beginPath();var aG,aJ=ad.xaxis;for(aI=0;aI<aJ.ticks.length;++aI){aG=aJ.ticks[aI].v;if(aG<=aJ.min||aG>=ad.xaxis.max){continue}I.moveTo(Math.floor(aJ.p2c(aG))+I.lineWidth/2,0);I.lineTo(Math.floor(aJ.p2c(aG))+I.lineWidth/2,w)}aJ=ad.yaxis;for(aI=0;aI<aJ.ticks.length;++aI){aG=aJ.ticks[aI].v;if(aG<=aJ.min||aG>=aJ.max){continue}I.moveTo(0,Math.floor(aJ.p2c(aG))+I.lineWidth/2);I.lineTo(o,Math.floor(aJ.p2c(aG))+I.lineWidth/2)}aJ=ad.x2axis;for(aI=0;aI<aJ.ticks.length;++aI){aG=aJ.ticks[aI].v;if(aG<=aJ.min||aG>=aJ.max){continue}I.moveTo(Math.floor(aJ.p2c(aG))+I.lineWidth/2,-5);I.lineTo(Math.floor(aJ.p2c(aG))+I.lineWidth/2,5)}aJ=ad.y2axis;for(aI=0;aI<aJ.ticks.length;++aI){aG=aJ.ticks[aI].v;if(aG<=aJ.min||aG>=aJ.max){continue}I.moveTo(o-5,Math.floor(aJ.p2c(aG))+I.lineWidth/2);I.lineTo(o+5,Math.floor(aJ.p2c(aG))+I.lineWidth/2)}I.stroke();if(P.grid.borderWidth){var aL=P.grid.borderWidth;I.lineWidth=aL;I.strokeStyle=P.grid.borderColor;I.strokeRect(-aL/2,-aL/2,o+aL,w+aL)}I.restore()}function l(){ay.find(".tickLabels").remove();var aE=['<div class="tickLabels" style="font-size:smaller;color:'+P.grid.color+'">'];function aG(aJ,aK){for(var aI=0;aI<aJ.ticks.length;++aI){var aH=aJ.ticks[aI];if(!aH.label||aH.v<aJ.min||aH.v>aJ.max){continue}aE.push(aK(aH,aJ))}}var aF=P.grid.labelMargin+P.grid.borderWidth;aG(ad.xaxis,function(aH,aI){return'<div style="position:absolute;top:'+(r.top+w+aF)+"px;left:"+Math.round(r.left+aI.p2c(aH.v)-aI.labelWidth/2)+"px;width:"+aI.labelWidth+'px;text-align:center" class="tickLabel">'+aH.label+"</div>"});aG(ad.yaxis,function(aH,aI){return'<div style="position:absolute;top:'+Math.round(r.top+aI.p2c(aH.v)-aI.labelHeight/2)+"px;right:"+(r.right+o+aF)+"px;width:"+aI.labelWidth+'px;text-align:right" class="tickLabel">'+aH.label+"</div>"});aG(ad.x2axis,function(aH,aI){return'<div style="position:absolute;bottom:'+(r.bottom+w+aF)+"px;left:"+Math.round(r.left+aI.p2c(aH.v)-aI.labelWidth/2)+"px;width:"+aI.labelWidth+'px;text-align:center" class="tickLabel">'+aH.label+"</div>"});aG(ad.y2axis,function(aH,aI){return'<div style="position:absolute;top:'+Math.round(r.top+aI.p2c(aH.v)-aI.labelHeight/2)+"px;left:"+(r.left+o+aF)+"px;width:"+aI.labelWidth+'px;text-align:left" class="tickLabel">'+aH.label+"</div>"});aE.push("</div>");ay.append(aE.join(""))}function j(aE){if(aE.lines.show){ax(aE)}if(aE.bars.show){m(aE)}if(aE.points.show){au(aE)}}function ax(aH){function aG(aS,aT,aL,aX,aW){var aY=aS.points,aM=aS.pointsize,aQ=null,aP=null;I.beginPath();for(var aR=aM;aR<aY.length;aR+=aM){var aO=aY[aR-aM],aV=aY[aR-aM+1],aN=aY[aR],aU=aY[aR+1];if(aO==null||aN==null){continue}if(aV<=aU&&aV<aW.min){if(aU<aW.min){continue}aO=(aW.min-aV)/(aU-aV)*(aN-aO)+aO;aV=aW.min}else{if(aU<=aV&&aU<aW.min){if(aV<aW.min){continue}aN=(aW.min-aV)/(aU-aV)*(aN-aO)+aO;aU=aW.min}}if(aV>=aU&&aV>aW.max){if(aU>aW.max){continue}aO=(aW.max-aV)/(aU-aV)*(aN-aO)+aO;aV=aW.max}else{if(aU>=aV&&aU>aW.max){if(aV>aW.max){continue}aN=(aW.max-aV)/(aU-aV)*(aN-aO)+aO;aU=aW.max}}if(aO<=aN&&aO<aX.min){if(aN<aX.min){continue}aV=(aX.min-aO)/(aN-aO)*(aU-aV)+aV;aO=aX.min}else{if(aN<=aO&&aN<aX.min){if(aO<aX.min){continue}aU=(aX.min-aO)/(aN-aO)*(aU-aV)+aV;aN=aX.min}}if(aO>=aN&&aO>aX.max){if(aN>aX.max){continue}aV=(aX.max-aO)/(aN-aO)*(aU-aV)+aV;aO=aX.max}else{if(aN>=aO&&aN>aX.max){if(aO>aX.max){continue}aU=(aX.max-aO)/(aN-aO)*(aU-aV)+aV;aN=aX.max}}if(aO!=aQ||aV!=aP){I.moveTo(aX.p2c(aO)+aT,aW.p2c(aV)+aL)}aQ=aN;aP=aU;I.lineTo(aX.p2c(aN)+aT,aW.p2c(aU)+aL)}I.stroke()}function aI(aR,aY,aW){var aZ=aR.points,aL=aR.pointsize,aM=Math.min(Math.max(0,aW.min),aW.max),aU,aP=0,aX=false;for(var aQ=aL;aQ<aZ.length;aQ+=aL){var aO=aZ[aQ-aL],aV=aZ[aQ-aL+1],aN=aZ[aQ],aT=aZ[aQ+1];if(aX&&aO!=null&&aN==null){I.lineTo(aY.p2c(aP),aW.p2c(aM));I.fill();aX=false;continue}if(aO==null||aN==null){continue}if(aO<=aN&&aO<aY.min){if(aN<aY.min){continue}aV=(aY.min-aO)/(aN-aO)*(aT-aV)+aV;aO=aY.min}else{if(aN<=aO&&aN<aY.min){if(aO<aY.min){continue}aT=(aY.min-aO)/(aN-aO)*(aT-aV)+aV;aN=aY.min}}if(aO>=aN&&aO>aY.max){if(aN>aY.max){continue}aV=(aY.max-aO)/(aN-aO)*(aT-aV)+aV;aO=aY.max}else{if(aN>=aO&&aN>aY.max){if(aO>aY.max){continue}aT=(aY.max-aO)/(aN-aO)*(aT-aV)+aV;aN=aY.max}}if(!aX){I.beginPath();I.moveTo(aY.p2c(aO),aW.p2c(aM));aX=true}if(aV>=aW.max&&aT>=aW.max){I.lineTo(aY.p2c(aO),aW.p2c(aW.max));I.lineTo(aY.p2c(aN),aW.p2c(aW.max));aP=aN;continue}else{if(aV<=aW.min&&aT<=aW.min){I.lineTo(aY.p2c(aO),aW.p2c(aW.min));I.lineTo(aY.p2c(aN),aW.p2c(aW.min));aP=aN;continue}}var a0=aO,aS=aN;if(aV<=aT&&aV<aW.min&&aT>=aW.min){aO=(aW.min-aV)/(aT-aV)*(aN-aO)+aO;aV=aW.min}else{if(aT<=aV&&aT<aW.min&&aV>=aW.min){aN=(aW.min-aV)/(aT-aV)*(aN-aO)+aO;aT=aW.min}}if(aV>=aT&&aV>aW.max&&aT<=aW.max){aO=(aW.max-aV)/(aT-aV)*(aN-aO)+aO;aV=aW.max}else{if(aT>=aV&&aT>aW.max&&aV<=aW.max){aN=(aW.max-aV)/(aT-aV)*(aN-aO)+aO;aT=aW.max}}if(aO!=a0){if(aV<=aW.min){aU=aW.min}else{aU=aW.max}I.lineTo(aY.p2c(a0),aW.p2c(aU));I.lineTo(aY.p2c(aO),aW.p2c(aU))}I.lineTo(aY.p2c(aO),aW.p2c(aV));I.lineTo(aY.p2c(aN),aW.p2c(aT));if(aN!=aS){if(aT<=aW.min){aU=aW.min}else{aU=aW.max}I.lineTo(aY.p2c(aN),aW.p2c(aU));I.lineTo(aY.p2c(aS),aW.p2c(aU))}aP=Math.max(aN,aS)}if(aX){I.lineTo(aY.p2c(aP),aW.p2c(aM));I.fill()}}I.save();I.translate(r.left,r.top);I.lineJoin="round";var aJ=aH.lines.lineWidth,aE=aH.shadowSize;if(aJ>0&&aE>0){I.lineWidth=aE;I.strokeStyle="rgba(0,0,0,0.1)";var aK=Math.PI/18;aG(aH.datapoints,Math.sin(aK)*(aJ/2+aE/2),Math.cos(aK)*(aJ/2+aE/2),aH.xaxis,aH.yaxis);I.lineWidth=aE/2;aG(aH.datapoints,Math.sin(aK)*(aJ/2+aE/4),Math.cos(aK)*(aJ/2+aE/4),aH.xaxis,aH.yaxis)}I.lineWidth=aJ;I.strokeStyle=aH.color;var aF=ae(aH.lines,aH.color,0,w);if(aF){I.fillStyle=aF;aI(aH.datapoints,aH.xaxis,aH.yaxis)}if(aJ>0){aG(aH.datapoints,0,0,aH.xaxis,aH.yaxis)}I.restore()}function au(aH){function aJ(aO,aN,aV,aL,aP,aT,aS){var aU=aO.points,aK=aO.pointsize;for(var aM=0;aM<aU.length;aM+=aK){var aR=aU[aM],aQ=aU[aM+1];if(aR==null||aR<aT.min||aR>aT.max||aQ<aS.min||aQ>aS.max){continue}I.beginPath();I.arc(aT.p2c(aR),aS.p2c(aQ)+aL,aN,0,aP,false);if(aV){I.fillStyle=aV;I.fill()}I.stroke()}}I.save();I.translate(r.left,r.top);var aI=aH.lines.lineWidth,aF=aH.shadowSize,aE=aH.points.radius;if(aI>0&&aF>0){var aG=aF/2;I.lineWidth=aG;I.strokeStyle="rgba(0,0,0,0.1)";aJ(aH.datapoints,aE,null,aG+aG/2,Math.PI,aH.xaxis,aH.yaxis);I.strokeStyle="rgba(0,0,0,0.2)";aJ(aH.datapoints,aE,null,aG/2,Math.PI,aH.xaxis,aH.yaxis)}I.lineWidth=aI;I.strokeStyle=aH.color;aJ(aH.datapoints,aE,ae(aH.points,aH.color),0,2*Math.PI,aH.xaxis,aH.yaxis);I.restore()}function E(aP,aO,aX,aK,aS,aH,aF,aN,aM,aW,aT){var aG,aV,aL,aR,aI,aE,aQ,aJ,aU;if(aT){aJ=aE=aQ=true;aI=false;aG=aX;aV=aP;aR=aO+aK;aL=aO+aS;if(aV<aG){aU=aV;aV=aG;aG=aU;aI=true;aE=false}}else{aI=aE=aQ=true;aJ=false;aG=aP+aK;aV=aP+aS;aL=aX;aR=aO;if(aR<aL){aU=aR;aR=aL;aL=aU;aJ=true;aQ=false}}if(aV<aN.min||aG>aN.max||aR<aM.min||aL>aM.max){return}if(aG<aN.min){aG=aN.min;aI=false}if(aV>aN.max){aV=aN.max;aE=false}if(aL<aM.min){aL=aM.min;aJ=false}if(aR>aM.max){aR=aM.max;aQ=false}aG=aN.p2c(aG);aL=aM.p2c(aL);aV=aN.p2c(aV);aR=aM.p2c(aR);if(aF){aW.beginPath();aW.moveTo(aG,aL);aW.lineTo(aG,aR);aW.lineTo(aV,aR);aW.lineTo(aV,aL);aW.fillStyle=aF(aL,aR);aW.fill()}if(aI||aE||aQ||aJ){aW.beginPath();aW.moveTo(aG,aL+aH);if(aI){aW.lineTo(aG,aR+aH)}else{aW.moveTo(aG,aR+aH)}if(aQ){aW.lineTo(aV,aR+aH)}else{aW.moveTo(aV,aR+aH)}if(aE){aW.lineTo(aV,aL+aH)}else{aW.moveTo(aV,aL+aH)}if(aJ){aW.lineTo(aG,aL+aH)}else{aW.moveTo(aG,aL+aH)}aW.stroke()}}function m(aG){function aF(aM,aL,aO,aJ,aN,aQ,aP){var aR=aM.points,aI=aM.pointsize;for(var aK=0;aK<aR.length;aK+=aI){if(aR[aK]==null){continue}E(aR[aK],aR[aK+1],aR[aK+2],aL,aO,aJ,aN,aQ,aP,I,aG.bars.horizontal)}}I.save();I.translate(r.left,r.top);I.lineWidth=aG.bars.lineWidth;I.strokeStyle=aG.color;var aE=aG.bars.align=="left"?0:-aG.bars.barWidth/2;var aH=aG.bars.fill?function(aI,aJ){return ae(aG.bars,aG.color,aI,aJ)}:null;aF(aG.datapoints,aE,aE+aG.bars.barWidth,0,aH,aG.xaxis,aG.yaxis);I.restore()}function ae(aG,aE,aF,aI){var aH=aG.fill;if(!aH){return null}if(aG.fillColor){return aq(aG.fillColor,aF,aI,aE)}var aJ=e(aE);aJ.a=typeof aH=="number"?aH:0.4;aJ.normalize();return aJ.toString()}function q(){ay.find(".legend").remove();if(!P.legend.show){return}var aK=[],aI=false,aQ=P.legend.labelFormatter,aP,aM;for(i=0;i<R.length;++i){aP=R[i];aM=aP.label;if(!aM){continue}if(i%P.legend.noColumns==0){if(aI){aK.push("</tr>")}aK.push("<tr>");aI=true}if(aQ){aM=aQ(aM,aP)}aK.push('<td class="legendColorBox"><div style="border:1px solid '+P.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aP.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aM+"</td>")}if(aI){aK.push("</tr>")}if(aK.length==0){return}var aO='<table style="font-size:smaller;color:'+P.grid.color+'">'+aK.join("")+"</table>";if(P.legend.container!=null){f(P.legend.container).html(aO)}else{var aL="",aF=P.legend.position,aG=P.legend.margin;if(aG[0]==null){aG=[aG,aG]}if(aF.charAt(0)=="n"){aL+="top:"+(aG[1]+r.top)+"px;"}else{if(aF.charAt(0)=="s"){aL+="bottom:"+(aG[1]+r.bottom)+"px;"}}if(aF.charAt(1)=="e"){aL+="right:"+(aG[0]+r.right)+"px;"}else{if(aF.charAt(1)=="w"){aL+="left:"+(aG[0]+r.left)+"px;"}}var aN=f('<div class="legend">'+aO.replace('style="','style="position:absolute;'+aL+";")+"</div>").appendTo(ay);if(P.legend.backgroundOpacity!=0){var aJ=P.legend.backgroundColor;if(aJ==null){var aH;if(P.grid.backgroundColor&&typeof P.grid.backgroundColor=="string"){aH=P.grid.backgroundColor}else{aH=a(aN)}aJ=e(aH).adjust(null,null,null,1).toString()}var aE=aN.children();f('<div style="position:absolute;width:'+aE.width()+"px;height:"+aE.height()+"px;"+aL+"background-color:"+aJ+';"> </div>').prependTo(aN).css("opacity",P.legend.backgroundOpacity)}}}var M={pageX:null,pageY:null},aB={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false},aa=[],am=false,N=null,k=null;function L(aL,aJ,aG){var aR=P.grid.mouseActiveRadius,a0=aR*aR+1,a2=null,aU=false,aZ,aX;for(var aZ=0;aZ<R.length;++aZ){if(!aG(R[aZ])){continue}var aS=R[aZ],aK=aS.xaxis,aI=aS.yaxis,aY=aS.datapoints.points,aW=aS.datapoints.pointsize,aT=aK.c2p(aL),aQ=aI.c2p(aJ),aF=aR/aK.scale,aE=aR/aI.scale;if(aS.lines.show||aS.points.show){for(aX=0;aX<aY.length;aX+=aW){var aN=aY[aX],aM=aY[aX+1];if(aN==null){continue}if(aN-aT>aF||aN-aT<-aF||aM-aQ>aE||aM-aQ<-aE){continue}var aP=Math.abs(aK.p2c(aN)-aL),aO=Math.abs(aI.p2c(aM)-aJ),aV=aP*aP+aO*aO;if(aV<a0){a0=aV;a2=[aZ,aX/aW]}}}if(aS.bars.show&&!a2){var aH=aS.bars.align=="left"?0:-aS.bars.barWidth/2,a1=aH+aS.bars.barWidth;for(aX=0;aX<aY.length;aX+=aW){var aN=aY[aX],aM=aY[aX+1],a3=aY[aX+2];if(aN==null){continue}if(R[aZ].bars.horizontal?(aT<=Math.max(a3,aN)&&aT>=Math.min(a3,aN)&&aQ>=aM+aH&&aQ<=aM+a1):(aT>=aN+aH&&aT<=aN+a1&&aQ>=Math.min(a3,aM)&&aQ<=Math.max(a3,aM))){a2=[aZ,aX/aW]}}}}if(a2){aZ=a2[0];aX=a2[1];return{datapoint:R[aZ].datapoints.points.slice(aX*aW,(aX+1)*aW),dataIndex:aX,series:R[aZ],seriesIndex:aZ}}return null}function Y(aE){M.pageX=aE.pageX;M.pageY=aE.pageY;if(P.grid.hoverable){u("plothover",M,function(aF){return aF.hoverable!=false})}if(aB.active){ay.trigger("plotselecting",[al()]);Z(M)}}function y(aE){if(aE.which!=1){return}document.body.focus();if(document.onselectstart!==undefined&&F.onselectstart==null){F.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&F.ondrag==null){F.ondrag=document.ondrag;document.ondrag=function(){return false}}W(aB.first,aE);M.pageX=null;aB.active=true;f(document).one("mouseup",O)}function S(aE){if(am){am=false;return}u("plotclick",aE,function(aF){return aF.clickable!=false})}function u(aF,aE,aG){var aH=z.offset(),aM={pageX:aE.pageX,pageY:aE.pageY},aK=aE.pageX-aH.left-r.left,aI=aE.pageY-aH.top-r.top;if(ad.xaxis.used){aM.x=ad.xaxis.c2p(aK)}if(ad.yaxis.used){aM.y=ad.yaxis.c2p(aI)}if(ad.x2axis.used){aM.x2=ad.x2axis.c2p(aK)}if(ad.y2axis.used){aM.y2=ad.y2axis.c2p(aI)}var aN=L(aK,aI,aG);if(aN){aN.pageX=parseInt(aN.series.xaxis.p2c(aN.datapoint[0])+aH.left+r.left);aN.pageY=parseInt(aN.series.yaxis.p2c(aN.datapoint[1])+aH.top+r.top)}if(P.grid.autoHighlight){for(var aJ=0;aJ<aa.length;++aJ){var aL=aa[aJ];if(aL.auto==aF&&!(aN&&aL.series==aN.series&&aL.point==aN.datapoint)){T(aL.series,aL.point)}}if(aN){x(aN.series,aN.datapoint,aF)}}ay.trigger(aF,[aM,aN])}function n(){if(!N){N=setTimeout(s,30)}}function s(){N=null;B.save();B.clearRect(0,0,H,J);B.translate(r.left,r.top);var aH,aG;for(aH=0;aH<aa.length;++aH){aG=aa[aH];if(aG.series.bars.show){v(aG.series,aG.point)}else{aC(aG.series,aG.point)}}if(aB.show&&av()){B.strokeStyle=e(P.selection.color).scale(null,null,null,0.8).toString();B.lineWidth=1;I.lineJoin="round";B.fillStyle=e(P.selection.color).scale(null,null,null,0.4).toString();var aE=Math.min(aB.first.x,aB.second.x),aJ=Math.min(aB.first.y,aB.second.y),aF=Math.abs(aB.second.x-aB.first.x),aI=Math.abs(aB.second.y-aB.first.y);B.fillRect(aE,aJ,aF,aI);B.strokeRect(aE,aJ,aF,aI)}B.restore();ar(an.drawOverlay,[B])}function x(aG,aE,aH){if(typeof aG=="number"){aG=R[aG]}if(typeof aE=="number"){aE=aG.data[aE]}var aF=ap(aG,aE);if(aF==-1){aa.push({series:aG,point:aE,auto:aH});n()}else{if(!aH){aa[aF].auto=false}}}function T(aG,aE){if(aG==null&&aE==null){aa=[];n()}if(typeof aG=="number"){aG=R[aG]}if(typeof aE=="number"){aE=aG.data[aE]}var aF=ap(aG,aE);if(aF!=-1){aa.splice(aF,1);n()}}function ap(aG,aH){for(var aE=0;aE<aa.length;++aE){var aF=aa[aE];if(aF.series==aG&&aF.point[0]==aH[0]&&aF.point[1]==aH[1]){return aE}}return -1}function aC(aH,aG){var aF=aG[0],aL=aG[1],aK=aH.xaxis,aJ=aH.yaxis;if(aF<aK.min||aF>aK.max||aL<aJ.min||aL>aJ.max){return}var aI=aH.points.radius+aH.points.lineWidth/2;B.lineWidth=aI;B.strokeStyle=e(aH.color).scale(1,1,1,0.5).toString();var aE=1.5*aI;B.beginPath();B.arc(aK.p2c(aF),aJ.p2c(aL),aE,0,2*Math.PI,false);B.stroke()}function v(aH,aE){B.lineWidth=aH.bars.lineWidth;B.strokeStyle=e(aH.color).scale(1,1,1,0.5).toString();var aG=e(aH.color).scale(1,1,1,0.5).toString();var aF=aH.bars.align=="left"?0:-aH.bars.barWidth/2;E(aE[0],aE[1],aE[2]||0,aF,aF+aH.bars.barWidth,0,function(){return aG},aH.xaxis,aH.yaxis,B,aH.bars.horizontal)}function al(){if(!av()){return null}var aF=Math.min(aB.first.x,aB.second.x),aE=Math.max(aB.first.x,aB.second.x),aH=Math.max(aB.first.y,aB.second.y),aG=Math.min(aB.first.y,aB.second.y);var aI={};if(ad.xaxis.used){aI.xaxis={from:ad.xaxis.c2p(aF),to:ad.xaxis.c2p(aE)}}if(ad.x2axis.used){aI.x2axis={from:ad.x2axis.c2p(aF),to:ad.x2axis.c2p(aE)}}if(ad.yaxis.used){aI.yaxis={from:ad.yaxis.c2p(aH),to:ad.yaxis.c2p(aG)}}if(ad.y2axis.used){aI.y2axis={from:ad.y2axis.c2p(aH),to:ad.y2axis.c2p(aG)}}return aI}function ak(){var aE=al();ay.trigger("plotselected",[aE]);if(ad.xaxis.used&&ad.yaxis.used){ay.trigger("selected",[{x1:aE.xaxis.from,y1:aE.yaxis.from,x2:aE.xaxis.to,y2:aE.yaxis.to}])}}function O(aE){if(document.onselectstart!==undefined){document.onselectstart=F.onselectstart}if(document.ondrag!==undefined){document.ondrag=F.ondrag}aB.active=false;Z(aE);if(av()){ak();am=true}else{ay.trigger("plotunselected",[]);ay.trigger("plotselecting",[null])}return false}function W(aG,aE){var aF=z.offset();aG.x=h(0,aE.pageX-aF.left-r.left,o);aG.y=h(0,aE.pageY-aF.top-r.top,w);if(P.selection.mode=="y"){if(aG==aB.first){aG.x=0}else{aG.x=o}}if(P.selection.mode=="x"){if(aG==aB.first){aG.y=0}else{aG.y=w}}}function Z(aE){if(aE.pageX==null){return}W(aB.second,aE);if(av()){aB.show=true;n()}else{at(true)}}function at(aE){if(aB.show){aB.show=false;n();if(!aE){ay.trigger("plotunselected",[])}}}function ag(aF,aE){var aG;if(P.selection.mode=="y"){aB.first.x=0;aB.second.x=o}else{aG=D(aF,"x");aB.first.x=aG.axis.p2c(aG.from);aB.second.x=aG.axis.p2c(aG.to)}if(P.selection.mode=="x"){aB.first.y=0;aB.second.y=w}else{aG=D(aF,"y");aB.first.y=aG.axis.p2c(aG.from);aB.second.y=aG.axis.p2c(aG.to)}aB.show=true;n();if(!aE){ak()}}function av(){var aE=5;return Math.abs(aB.second.x-aB.first.x)>=aE&&Math.abs(aB.second.y-aB.first.y)>=aE}function aq(aG,aF,aK,aI){if(typeof aG=="string"){return aG}else{var aJ=I.createLinearGradient(0,aK,0,aF);for(var aH=0,aE=aG.colors.length;aH<aE;++aH){var aL=aG.colors[aH];aJ.addColorStop(aH/(aE-1),typeof aL=="string"?aL:e(aI).scale(aL.brightness,aL.brightness,aL.brightness,aL.opacity))}return aJ}}}f.plot=function(m,k,j){var l=new d(f(m),k,j,f.plot.plugins);return l};f.plot.plugins=[];f.plot.formatDate=function(p,j,l){var k=function(r){r=""+r;return r.length==1?"0"+r:r};var o=[];var n=false;if(l==null){l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}for(var m=0;m<j.length;++m){var q=j.charAt(m);if(n){switch(q){case"h":q=""+p.getUTCHours();break;case"H":q=k(p.getUTCHours());break;case"M":q=k(p.getUTCMinutes());break;case"S":q=k(p.getUTCSeconds());break;case"d":q=""+p.getUTCDate();break;case"m":q=""+(p.getUTCMonth()+1);break;case"y":q=""+p.getUTCFullYear();break;case"b":q=""+l[p.getUTCMonth()];break}o.push(q);n=false}else{if(q=="%"){n=true}else{o.push(q)}}}return o.join("")};function c(k,j){return j*Math.floor(k/j)}function h(k,l,j){if(l<k){return k}else{if(l>j){return j}else{return l}}}function g(o,n,k,l){var m=["r","g","b","a"];var j=4;while(-1<--j){this[m[j]]=arguments[j]||((j==3)?1:0)}this.toString=function(){if(this.a>=1){return"rgb("+[this.r,this.g,this.b].join(",")+")"}else{return"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}};this.scale=function(r,q,s,p){j=4;while(-1<--j){if(arguments[j]!=null){this[m[j]]*=arguments[j]}}return this.normalize()};this.adjust=function(r,q,s,p){j=4;while(-1<--j){if(arguments[j]!=null){this[m[j]]+=arguments[j]}}return this.normalize()};this.clone=function(){return new g(this.r,this.b,this.g,this.a)};this.normalize=function(){this.r=h(0,parseInt(this.r),255);this.g=h(0,parseInt(this.g),255);this.b=h(0,parseInt(this.b),255);this.a=h(0,this.a,1);return this};this.normalize()}var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};function a(k){var j,l=k;do{j=l.css("background-color").toLowerCase();if(j!=""&&j!="transparent"){break}l=l.parent()}while(!f.nodeName(l.get(0),"body"));if(j=="rgba(0, 0, 0, 0)"){return"transparent"}return j}function e(l){var j;if(j=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l)){return new g(parseInt(j[1],10),parseInt(j[2],10),parseInt(j[3],10))}if(j=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l)){return new g(parseInt(j[1],10),parseInt(j[2],10),parseInt(j[3],10),parseFloat(j[4]))}if(j=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l)){return new g(parseFloat(j[1])*2.55,parseFloat(j[2])*2.55,parseFloat(j[3])*2.55)}if(j=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l)){return new g(parseFloat(j[1])*2.55,parseFloat(j[2])*2.55,parseFloat(j[3])*2.55,parseFloat(j[4]))}if(j=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l)){return new g(parseInt(j[1],16),parseInt(j[2],16),parseInt(j[3],16))}if(j=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l)){return new g(parseInt(j[1]+j[1],16),parseInt(j[2]+j[2],16),parseInt(j[3]+j[3],16))}var k=f.trim(l).toLowerCase();if(k=="transparent"){return new g(255,255,255,0)}else{j=b[k];return new g(j[0],j[1],j[2])}}})(jQuery);